# Print Shop Back Changelog
Все изменения сервиса аутентификации будут документироваться на этой странице.

## 2023-07-22
### Add
- Добавлены дополнительные ограничения в таблицы БД;
- Для модельных объектов добавлены константные имена `const ModelName*`, которое используется при логировании событий и ошибок связанных с этими компонентами;
- Добавлена структура mrerr.Arg для передачи какой-либо информации в логи;
- Добавлено несколько именованных ошибок: `ErrInternalNilPointer`, `ErrStorageFetchedInvalidData`;
- Добавлены методы работы с БД в связке с `squirrel` (см. `conn_squirrel.go`)

### Changed
- Доработан механизм сортировки элементов, он был оформлен в компонент `ItemOrderer`. Его задачи: организовывать порядок следования элементов конкретного списка и перемещать эти элементы в рамках этого списка;

### Removed
- Удалён метод NewWithData, вместо него нужно использовать `New(mrerr.Arg{...})`;

## 2023-07-16
### Add
- Добавлен paramName в модуль `form_data`;
- Добавлен компонент для компиляции структуры, на основе которой формируются пользовательские интерфейсы для калькуляции продукции;
- В интерфейс `ClientData` добавлен метод `WithContext`;
- Добавлена именованная ошибка `ErrInternalParseData`;

### Changed
- GO_TOOLS утилиты теперь не устанавливаются по умолчанию;
- В ошибке, формируемой во wrapError, теперь выводится информация о том, в каком методе разработчика она произошла, а не там, где её породила библиотека ядра;
- Во всех `regexp.MustCompile` добавлены raw strings во избежание двойного экранирования символов;

### Fixed
- Исправлен баг при сохранении id формы в контекст;
- Исправлен баг при добавлении поля формы, проверка `paramName` проходила раньше, чем этот параметр заполнялся из шаблона;
- Добавлен omitempty в описание валидации необязательных полей;
- Исправлен синтаксис sql в некоторых запросах;
- Исправлен баг с защитой от бесконечного цикла при формировании ошибки;
- В `FormFieldItemOrderer` добавлены пропущенные проверки ошибок;

## 2023-07-14
### Add
- Доработан проект для его развёртывания утилитой Mrcmd;
- Добавлена ещё одна настройка переменной MRCMD_SHARED_PLUGINS_ENABLED для альтернативного варианта разработки;

### Changed
- Переименован пакет `calc-user-data-back-adm -> print-shop-back`;

## 2023-07-10
### Add
- Внедрена библиотека `squirrel` для формирования SQL запросов;

## 2023-07-10
### Add
- Внедрена библиотека `squirrel` для формирования SQL запросов;

## 2023-07-07
### Add
- Произведён рефакторинг механизма обработки ошибок, добавлена фабрика для создания ошибок;

## 2023-05-13
### Changed
- Доработан механизм обработки ошибок, logger и валидация внешних данных;

## 2023-05-12
### Added
- Загружена версия проекта с несколькими реализованными методами API аутентификации;
